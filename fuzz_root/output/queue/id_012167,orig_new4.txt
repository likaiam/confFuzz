CREATE TABLE v0 ( v2 , v1 UNIQUE ON CONFLICT FAIL CHECK( v2 != 'v0' ) NOT NULL AS( v3 ) , v3 UNIQUE ) ; CREATE TEMP TRIGGER x AFTER INSERT ON v0 WHEN ( SELECT v3 FROM v0 WHERE v1 < v3 ORDER BY v1 DESC ) BEGIN DELETE FROM v0 WHERE v3 BETWEEN 10 AND 0 ; END ; CREATE TRIGGER tr0 AFTER DELETE ON v0 BEGIN DELETE FROM v0 ; END ; INSERT INTO v0 ( v3 , v2 , v3 ) VALUES ( 10 , 10 , 0 ) ,( 3 , 10 , 1 ) ; REPLACE INTO v0 ( v2 , v3 , v3 ) VALUES ( 0 , 12 , 9223372036854775807 ) ; 