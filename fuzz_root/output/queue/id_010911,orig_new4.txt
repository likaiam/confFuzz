CREATE VIRTUAL TABLE v0 USING fts4 ( v4 FLOAT UNIQUE , v6 UNIQUE GENERATED ALWAYS AS( v6 ) , v7 INT , v1 INT UNIQUE GENERATED ALWAYS AS( NULL ) , v3 INTEGER UNIQUE , v2 CHAR(25) PRIMARY KEY CHECK( v2 ) , v5 VARCHAR(20) UNIQUE ) ; CREATE TABLE temp . v0 ( v17 INT UNIQUE ON CONFLICT REPLACE , v16 INTEGER UNIQUE ON CONFLICT FAIL , v15 INTEGER UNIQUE ON CONFLICT ROLLBACK , v14 INTEGER UNIQUE ON CONFLICT ABORT , v9 INTEGER UNIQUE ON CONFLICT ROLLBACK , v10 INTEGER UNIQUE ON CONFLICT ROLLBACK , v11 UNIQUE ON CONFLICT IGNORE , v12 PRIMARY KEY ON CONFLICT ROLLBACK , v13 UNIQUE ) ; VACUUM ; UPDATE v0 SET v2 = v3 + 2 WHERE v5 > 1 OR v4 > 2 AND NOT v5 ; SELECT * FROM v0 UNION SELECT * FROM v0 GROUP BY v0 . v3 AS p , v1 ORDER BY v6 ASC ; 