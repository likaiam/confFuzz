CREATE TABLE v0 ( v1 INTEGER PRIMARY KEY ) ; DELETE FROM v0 ; CREATE TRIGGER x AFTER INSERT ON v0 BEGIN INSERT OR FAIL INTO v0 SELECT DISTINCT random () % 10 FROM v0 , v0 AS t ; END ; CREATE TEMP TRIGGER x AFTER INSERT ON v0 WHEN ( SELECT v1 FROM v0 WHERE v0 . v1 < 2 ORDER BY v1 DESC ) BEGIN INSERT INTO v0 ( v1 ) VALUES ( 10 ) ; END ; REPLACE INTO v0 ( v1 ) VALUES ( NULL ) ; 