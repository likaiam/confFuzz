CREATE TABLE v0 ( v3 , v1 INTEGER AS( 'x' ) CHECK( 1 ) CHECK( v2 NOT LIKE 'v0' ) NOT NULL UNIQUE , v4 PRIMARY KEY ON CONFLICT ROLLBACK , v2 UNIQUE ) ; DELETE FROM v0 WHERE v1 = ( SELECT * FROM v0 WHERE v3 = v2 ) OR v3 = ( SELECT v3 FROM v0 ) ; CREATE TRIGGER x AFTER INSERT ON v0 BEGIN INSERT INTO v0 ( v4 ) VALUES ( 1 ) ; END ; REPLACE INTO v0 ( v2 ) VALUES ( NULL ) ; 