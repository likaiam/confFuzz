CREATE VIRTUAL TABLE v0 USING rtree ( v3 , v2 , v1 ) ; CREATE VIEW v4 AS SELECT 1.100000 * SUM ( CASE WHEN v1 LIKE 'v1' THEN v1 * ( 8 - v3 ) ELSE 2000 END ) FROM v0 ; UPDATE v0 SET v1 = ( SELECT 10 FROM v0 , v4 ) ; 