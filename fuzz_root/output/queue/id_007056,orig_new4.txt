CREATE VIRTUAL TABLE v0 USING fts4 ( v2 , v1 , v3 ) ; CREATE VIRTUAL TABLE v4 USING fts4 ( v5 , v6 UNIQUE ON CONFLICT ABORT , v7 ) ; VACUUM ; SELECT * FROM v0 LEFT JOIN v4 ON v5 = v7 WHERE v7 = 3 ; DELETE FROM v4 WHERE v7 MATCH ( SELECT DISTINCT * FROM v4 AS one , v4 AS two JOIN v4 ON NULL = v4 . v6 NATURAL JOIN v0 ) ; 