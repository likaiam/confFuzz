CREATE VIRTUAL TABLE v0 USING rtree ( v3 INTEGER AS( ( 'MED BOX' >= 1 IN ( 0.100000 , 0 , 9223372036854775807 ) ) = 1 + julianday ( '!INSERT INTO test VALUES (1, 0, 0); !INSERT INTO test VALUES (0, 1, 0); !INSERT INTO test VALUES (0, 0, null);' ) ) , v1 INT , v2 ) ; DELETE FROM v0 WHERE v1 IS NOT NULL OR abs ( v3 ) < 10 ; CREATE VIEW v4 AS WITH tmp AS ( SELECT v6 ) SELECT 0.100000 * AVG ( DISTINCT v2 ) FROM v0 AS PROMO_REVENUE WHERE v1 < 10 ; ALTER TABLE v0 RENAME TO v14 ; SELECT v3 , v3 FROM v0 WHERE v3 IS NOT NULL ; 