CREATE VIRTUAL TABLE v0 USING fts4 ( v3 CHAR(25) UNIQUE AS( v2 ) PRIMARY KEY ON CONFLICT FAIL NOT NULL , v1 CHAR(15) PRIMARY KEY ON CONFLICT REPLACE , v2 ) ; INSERT INTO v0 ( v3 , v2 , v3 ) VALUES ( 'v1' , 1 , 0 ) ,( '17' , 127 , 10 ) ,( 'v1' , 1 , 9223372036854775808 ) ,( 'SM BOX' , 1 , 10 ) ; SELECT v1 FROM v0 WHERE v1 = 10 AND v2 > 1 ORDER BY v2 NULLS FIRST ; DELETE FROM v0 WHERE v2 MATCH ( SELECT min ( 1.100000 ) , sum ( v1 ) OVER( ORDER BY v3 ) AS m FROM v0 WHERE v3 OR 10 ) ; 