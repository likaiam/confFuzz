CREATE VIRTUAL TABLE v0 USING fts4 ( v2 INTEGER UNIQUE ON CONFLICT FAIL PRIMARY KEY UNIQUE NOT NULL , v1 , v3 ) ; INSERT INTO v0 ( v1 , v1 , v3 ) VALUES ( 'x' , 9223372036854775807 , 9223372036854775807 ) ,( 'x' , 0 , 10 ) ,( 'x' , 10 , 10 ) ,( 'x' , 1 , 0 ) ; SELECT v2 FROM v0 WHERE v1 = 0 AND v2 > 10 ORDER BY v2 ; DELETE FROM v0 WHERE v1 MATCH ( SELECT v1 , sum ( v2 ) OVER( ORDER BY v1 ) AS m FROM v0 WHERE v1 OR 1 ) ; 