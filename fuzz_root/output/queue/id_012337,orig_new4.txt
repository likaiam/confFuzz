CREATE VIRTUAL TABLE v0 USING rtree ( v2 , v1 , v3 INTEGER CHECK( 'x' != julianday ( v3 , 10 , v2 NOT LIKE v1 ) NOT LIKE randomblob ( v3 NOT LIKE v1 ) ) ) ; CREATE VIEW v4 AS SELECT v3 FROM v0 UNION ALL SELECT v2 FROM v0 ; SELECT DISTINCT * FROM v0 AS a JOIN v0 AS AVG_YEARLY ON 10.100000 + 1.100000 JOIN v4 NATURAL JOIN v4 ; UPDATE v0 SET v3 = ( SELECT 10 FROM v4 LEFT JOIN v4 , v4 , v4 ) ; 