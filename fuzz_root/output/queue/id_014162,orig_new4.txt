CREATE VIRTUAL TABLE v0 USING rtree ( v3 , v2 , v1 ) ; CREATE VIEW v4 AS SELECT 2.100000 * SUM ( CASE WHEN v2 LIKE 'x' THEN v3 * ( 10 - v1 ) ELSE 10 END ) FROM v0 ; CREATE VIEW v5 AS SELECT 10 AS x ORDER BY ( SELECT 10 ORDER BY 42 NULLS LAST ) DESC NULLS FIRST ; ALTER TABLE v0 RENAME TO v2 ; SELECT v9 , v10 FROM v4 WHERE v8 IS NOT NULL ; 