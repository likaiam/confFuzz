CREATE TABLE v0 ( v1 INTEGER PRIMARY KEY ON CONFLICT ROLLBACK UNIQUE ) ; DELETE FROM v0 WHERE v1 = ( SELECT NTILE ( 10 ) OVER( ORDER BY v1 NULLS LAST ) - 0 AS f1 FROM v0 ) OR v1 = v1 ; CREATE TRIGGER prep BEFORE DELETE ON v0 WHEN ( SELECT v1 FROM v0 AS nt WHERE v0 . v1 < 0 ORDER BY v1 DESC ) BEGIN INSERT INTO v0 ( v1 ) VALUES ( 10 ) ; END ; SELECT * FROM v0 NATURAL JOIN v0 WHERE v1 < 10 OR v1 < 3 ; DELETE FROM v0 WHERE v1 < ( SELECT v1 FROM v0 WHERE 'v1' GROUP BY v0 . v1 , v1 ) OR v1 = 'x' ; 