CREATE VIRTUAL TABLE v0 USING fts4 ( v1 FLOAT UNIQUE , v2 UNIQUE GENERATED ALWAYS AS( v4 ) , v3 INT , v4 INT UNIQUE GENERATED ALWAYS AS( NULL ) , v5 INTEGER UNIQUE , v6 CHAR(25) PRIMARY KEY CHECK( v4 ) , v7 VARCHAR(20) UNIQUE ) ; CREATE TABLE v8 ( v9 INT UNIQUE ON CONFLICT REPLACE , v10 INTEGER UNIQUE ON CONFLICT FAIL , v11 INTEGER UNIQUE ON CONFLICT ROLLBACK , v12 INTEGER UNIQUE ON CONFLICT ABORT , v13 INTEGER UNIQUE ON CONFLICT ROLLBACK , v14 INTEGER UNIQUE ON CONFLICT ROLLBACK , v15 UNIQUE ON CONFLICT IGNORE , v16 PRIMARY KEY ON CONFLICT ROLLBACK , v17 UNIQUE ) ; SELECT NTILE ( 10 ) OVER( ORDER BY v15 NULLS LAST ) - 1 AS q FROM v8 GROUP BY v17 ORDER BY v11 ASC ; SELECT ( SELECT NTILE ( 0 ) OVER( ORDER BY v14 NULLS LAST ) - 1 AS nt ) FROM v8 AS x GROUP BY v16 ; SELECT * FROM v8 AS a JOIN v8 NATURAL JOIN v0 ORDER BY sum ( - - v7 IS NOT NULL ) OVER( ) ; 