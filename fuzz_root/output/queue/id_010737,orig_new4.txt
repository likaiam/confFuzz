CREATE VIRTUAL TABLE v0 USING rtree ( v2 , v1 , v3 ) ; CREATE VIEW v4 AS SELECT 3.100000 * ifnull ( v2 , 2 ) FROM v0 ; CREATE VIEW v6 AS WITH x1 AS ( SELECT * FROM v0 ) SELECT DISTINCT * FROM v4 ORDER BY v7 ; UPDATE v0 SET v2 = ( SELECT 3 FROM v0 AS a JOIN v6 AS b ON v0 . v2 = v6 . v8 ) ; 