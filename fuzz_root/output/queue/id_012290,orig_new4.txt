CREATE TABLE v0 ( v2 INT UNIQUE ON CONFLICT FAIL , v9 INTEGER UNIQUE ON CONFLICT FAIL , v8 INTEGER UNIQUE ON CONFLICT ROLLBACK , v7 INTEGER UNIQUE ON CONFLICT ABORT , v6 INTEGER UNIQUE ON CONFLICT ROLLBACK , v5 INTEGER UNIQUE ON CONFLICT ROLLBACK , v3 , v4 PRIMARY KEY ON CONFLICT ROLLBACK , v1 UNIQUE ) ; CREATE TRIGGER NO_CACHE AFTER INSERT ON v0 BEGIN INSERT INTO v0 ( v2 , v8 , v1 , v6 ) VALUES ( 3 , 's%' , 127 , 3 ) ,( 9223372036854775807 , 'v1' , 1 , 42 ) ,( 12 , 'v0' , 3 , 10 ) ,( 10 , 'v0' , 127 , 10 ) ,( 9223372036854775807 , 'x' , 1 , 10 ) ,( 10 , 'x' , 10 , 9 ) ; END ; DELETE FROM v0 WHERE v8 = 10 OR v2 < 0 ; CREATE TEMP TRIGGER x AFTER INSERT ON v0 WHEN ( SELECT SUM ( v2 ) FROM v0 WHERE v8 GLOB 'v0' ORDER BY v2 DESC ) BEGIN INSERT INTO v0 ( v9 ) VALUES ( 10 ) ; END ; REPLACE INTO v0 ( v2 ) VALUES ( 'v0' ) ,( 'x' ) ,( 10 ) ,( 'v0' ) ,( 1 ) ; 