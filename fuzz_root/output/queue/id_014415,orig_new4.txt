CREATE TABLE v0 ( v1 INTEGER PRIMARY KEY ON CONFLICT IGNORE , v2 INTEGER AS( 'v1' ) CHECK( 2 ) CHECK( v2 NOT LIKE 'SM PACK' ) NOT NULL UNIQUE ) ; CREATE TRIGGER x AFTER INSERT ON v0 BEGIN INSERT OR REPLACE INTO v0 SELECT DISTINCT CAST ( round ( v2 / 10 ) AS INTEGER ) FROM v0 LIMIT 3 ; END ; INSERT INTO v0 VALUES ( 10 ) ; SELECT v1 , sum ( v2 ) AS m FROM v0 ; REPLACE INTO v0 ( v1 ) VALUES ( NULL ) ; 