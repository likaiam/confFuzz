CREATE VIRTUAL TABLE v0 USING rtree ( v3 , v1 , v2 ) ; CREATE VIEW v4 AS SELECT v1 , v1 , dense_rank () OVER( PARTITION BY v2 ORDER BY v1 ) FROM v0 GROUP BY NULL ORDER BY v2 ; UPDATE v0 SET v1 = ( SELECT 10 FROM v4 LEFT JOIN v0 , v4 , v0 ) ; 