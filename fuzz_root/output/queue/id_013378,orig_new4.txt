CREATE VIRTUAL TABLE v0 USING fts4 ( v2 INTEGER AS( nth_value ( v1 , 0 ) OVER( ORDER BY v1 ) + nth_value ( v1 , 0 ) OVER( ) ) , v1 ) ; DELETE FROM v0 WHERE v2 IS NOT NULL OR abs ( v2 ) < 2 ; CREATE TABLE v3 ( v4 VARCHAR(10) CHECK( v4 != datetime ( ( v4 >= 10 IN ( 10.100000 , v4 , 10 ) ) , v4 ) NOT LIKE randomblob ( v4 NOT LIKE v4 ) ) ) ; ALTER TABLE v0 RENAME TO v1 ; SELECT v2 , v2 FROM v0 WHERE v1 IS NOT NULL ; 