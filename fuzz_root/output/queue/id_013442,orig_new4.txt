CREATE VIRTUAL TABLE v0 USING rtree ( v1 , v3 , v2 INTEGER CHECK( 'v1' != julianday ( v2 , 10 , v2 NOT LIKE v2 AS AVG_YEARLY ) NOT LIKE randomblob ( v3 NOT LIKE v2 ) ) ) ; CREATE VIEW v4 AS SELECT v3 FROM v0 UNION ALL SELECT v1 FROM v0 ORDER BY v1 ASC , v3 DESC ; SELECT * FROM v4 AS a JOIN v0 AS AVG_YEARLY ON 9.100000 + 3.100000 JOIN v0 NATURAL JOIN v4 ; UPDATE v4 SET v5 = ( SELECT 0 FROM v4 LEFT JOIN v4 ON typeof ( 'v0' ) NOT LIKE 'x' ) ; 