CREATE VIRTUAL TABLE v0 USING rtree ( v1 UNIQUE ON CONFLICT IGNORE GENERATED ALWAYS AS( 10 ) , v3 , v2 ) ; INSERT INTO v0 ( v2 ) VALUES ( 'v0' ) ,( 'forest%%' ) ,( 'v0' ) ,( 'DELIVER IN PERSON' ) ,( 'LG BOX' ) ,( 'y' ) ,( 'v0' ) ,( 'v1' ) ,( 'MED PACK' ) ,( 'v0' ) ,( 'x' ) ,( '!INSERT INTO test VALUES (1, 0, 0); !INSERT INTO test VALUES (0, 1, 0); !INSERT INTO test VALUES (0, 0, null);' ) ,( 'v1' ) ,( 'v0' ) ,( 'v1' ) ,( 'b' ) ,( 'v0' ) ; VACUUM ; SELECT * FROM v0 WHERE v1 = v1 AND v1 = v1 AND v1 = 'v1' ; UPDATE v0 SET v3 = ( SELECT 1 FROM v0 ) WHERE v2 > 3 AND v3 < 0 ; 