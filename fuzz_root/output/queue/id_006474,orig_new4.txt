CREATE VIRTUAL TABLE v0 USING fts4 ( v6 FLOAT UNIQUE , v7 UNIQUE GENERATED ALWAYS AS( v7 ) , v3 INT , v4 INT UNIQUE GENERATED ALWAYS AS( NULL ) , v5 INTEGER UNIQUE , v1 CHAR(25) PRIMARY KEY CHECK( v6 ) , v2 VARCHAR(20) UNIQUE ) ; CREATE TABLE v8 ( v11 INT UNIQUE ON CONFLICT REPLACE , v12 INTEGER UNIQUE ON CONFLICT FAIL , v13 INTEGER UNIQUE ON CONFLICT ROLLBACK , v14 INTEGER UNIQUE ON CONFLICT ABORT , v15 INTEGER UNIQUE ON CONFLICT ROLLBACK , v16 INTEGER UNIQUE ON CONFLICT ROLLBACK , v17 UNIQUE ON CONFLICT IGNORE , v9 PRIMARY KEY ON CONFLICT ROLLBACK , v10 UNIQUE ) ; SELECT NTILE ( 2 ) OVER( ORDER BY v1 NULLS LAST ) - 1 AS q FROM v0 GROUP BY v5 ORDER BY v1 ASC ; SELECT ( SELECT NTILE ( 10 ) OVER( ORDER BY v12 NULLS LAST ) - 10 AS nt ) FROM v8 AS x GROUP BY v15 ; SELECT * FROM v8 NATURAL JOIN v0 ORDER BY sum ( - - v2 IS NOT NULL ) OVER( ) ; 