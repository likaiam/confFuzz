CREATE VIRTUAL TABLE v0 USING fts4 ( v2 CHAR(25) UNIQUE AS( v2 ) PRIMARY KEY NOT NULL , v1 CHAR(15) PRIMARY KEY ON CONFLICT REPLACE , v3 ) ; INSERT INTO v0 ( v2 , v3 , v3 ) VALUES ( 'SM BOX' , 10 , 2 ) ,( 'Brand#12' , 0 , 10 ) ,( 'x' , 10 , 2000 ) ,( 'v1' , 1 , 0 ) ; SELECT v1 FROM v0 WHERE v3 = 10 AND v3 MATCH '!INSERT INTO test VALUES (1, 0, 0); !INSERT INTO test VALUES (0, 1, 0); !INSERT INTO test VALUES (0, 0, null);' ORDER BY v3 ; DELETE FROM v0 WHERE v2 MATCH ( SELECT v2 , v3 FROM v0 AS l , v0 AS r WHERE v1 < v3 ) ; 