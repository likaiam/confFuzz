CREATE TABLE v0 ( v1 ) ; INSERT INTO v0 VALUES ( 'v1' ) ,( 'x' ) ,( 'x' ) ; CREATE TABLE v2 ( v3 UNIQUE ON CONFLICT IGNORE PRIMARY KEY UNIQUE UNIQUE ON CONFLICT REPLACE CHECK( 10 ) CHECK( v1 NOT LIKE 'x' ) NOT NULL UNIQUE ) ; INSERT OR ROLLBACK INTO v2 SELECT * FROM v0 ; SELECT coalesce ( max ( v1 ) , 10 ) FROM v0 ; 