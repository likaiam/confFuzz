CREATE VIRTUAL TABLE v0 USING fts4 ( v2 INTEGER AS( NOT sum ( v3 ) OVER( ORDER BY 10 NOT LIKE printf () ) ) , v3 , v1 ) ; CREATE VIEW v4 AS SELECT v2 = NULL FROM v0 WHERE v1 GLOB 'x' UNION ALL SELECT v1 FROM v0 ; UPDATE v0 SET v3 = ( SELECT 3 FROM v4 LEFT JOIN v4 , v4 , v4 ) ; 