CREATE VIRTUAL TABLE v0 USING rtree ( v3 NOT NULL AS( x () + 10 + v2 ) , v1 , v2 ) ; DROP TABLE v0 ; CREATE TABLE v4 ( v6 , v5 ) ; INSERT INTO v4 VALUES ( '!INSERT INTO test VALUES (1, 0, 0); !INSERT INTO test VALUES (0, 1, 0); !INSERT INTO test VALUES (0, 0, null);' , 1 ) ,( 'v0' , 10 ) ,( 'v1' , 10 ) ,( '30' , 3 ) ; SELECT v5 , rank () OVER( ORDER BY v6 DESC ) FROM v4 ; 