CREATE TABLE v0 ( v2 INTEGER PRIMARY KEY UNIQUE ON CONFLICT FAIL , v1 INTEGER AS( 'v1' ) CHECK( ( v2 < 2 AND v2 = 10 ) ) CHECK( v2 NOT LIKE 'v0' ) NOT NULL UNIQUE ) ; INSERT INTO v0 VALUES ( 'v0' ) ,( 'DELIVER IN PERSON' ) ,( '%%green%%' ) ; SELECT v2 FROM v0 ORDER BY v2 DESC , v1 LIMIT 1 OFFSET 2 ; CREATE INDEX v3 ON v0 ( v1 , v1 ) WHERE v1 != random () ; SELECT SUM ( v1 * ( 10 - v2 ) ) AS REVENUE , v2 AS alias FROM v3 ; 