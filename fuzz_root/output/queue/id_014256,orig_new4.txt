CREATE TABLE v0 ( v1 ) ; INSERT INTO v0 VALUES ( 'v0' ) ,( 'x' ) ,( 'v0' ) ; CREATE TABLE v2 ( v4 , v3 ) ; CREATE INDEX v5 ON v2 ( v4 , v4 ) WHERE v3 = v4 AND v3 = v4 IS NOT NULL ; SELECT v3 FROM v0 , v0 AS PROMO_REVENUE RIGHT OUTER JOIN v2 ON v4 = v3 WHERE v3 = v4 AND '18' = 'v0' ; 