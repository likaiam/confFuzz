CREATE VIRTUAL TABLE v0 USING fts4 ( v2 CHAR(25) UNIQUE AS( v3 ) PRIMARY KEY ON CONFLICT FAIL NOT NULL , v1 CHAR(15) PRIMARY KEY ON CONFLICT REPLACE , v3 ) ; INSERT INTO v0 ( v2 , v1 , v3 ) VALUES ( '23' , 3 , 10 ) ,( 'x' , 10 , 10 ) ,( 'x' , 10 , 10 ) ,( 'v1' , 10 , 1 ) ; SELECT v2 FROM v0 WHERE v2 = 3 AND v1 > 10 ORDER BY v1 ; DELETE FROM v0 WHERE v3 MATCH ( SELECT min ( 10.100000 ) , sum ( v2 ) OVER( ORDER BY v3 ) AS m FROM v0 WHERE v2 OR 10 ) ; 