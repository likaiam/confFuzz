CREATE VIRTUAL TABLE v0 USING fts4 ( v6 FLOAT UNIQUE , v7 UNIQUE GENERATED ALWAYS AS( v3 ) , v5 INT , v4 INT UNIQUE GENERATED ALWAYS AS( NULL ) , v3 INTEGER UNIQUE , v2 CHAR(25) PRIMARY KEY CHECK( v7 ) , v1 VARCHAR(20) UNIQUE ) ; CREATE TABLE v8 ( v16 INT UNIQUE ON CONFLICT REPLACE , v17 INTEGER UNIQUE ON CONFLICT FAIL , v15 INTEGER UNIQUE ON CONFLICT ROLLBACK , v13 INTEGER UNIQUE ON CONFLICT ABORT , v12 INTEGER UNIQUE ON CONFLICT ROLLBACK , v14 INTEGER UNIQUE ON CONFLICT ROLLBACK , v11 UNIQUE ON CONFLICT IGNORE , v10 PRIMARY KEY ON CONFLICT ROLLBACK , v9 UNIQUE ) ; SELECT NTILE ( 10 ) OVER( ORDER BY v11 NULLS LAST ) - 10 AS q FROM v8 GROUP BY v15 ORDER BY v12 ASC ; SELECT ( SELECT NTILE ( 10 ) OVER( ORDER BY v9 NULLS LAST ) - 10 AS nt ) FROM v8 AS x GROUP BY v14 ; SELECT DISTINCT * FROM v8 NATURAL JOIN v0 ORDER BY sum ( - - v4 IS NOT NULL ) OVER( ) ; 