CREATE TABLE v0 ( v1 INTEGER AS( ( v2 BETWEEN 9223372036854775807 AND 1 ) ) CHECK( v2 ) , v2 INTEGER CHECK( v1 NOT LIKE datetime ( - v2 ) ) UNIQUE PRIMARY KEY ) ; CREATE VIRTUAL TABLE v3 USING fts4 ( v6 UNIQUE ON CONFLICT IGNORE GENERATED ALWAYS AS( 2147483647 ) , v5 , v4 ) ; CREATE TRIGGER x AFTER UPDATE ON v0 BEGIN WITH tmp AS ( SELECT v2 FROM v0 ) SELECT 9223372036854775807 , 10 , 10 ; END ; ALTER TABLE v0 RENAME v1 TO v4 ; SELECT v5 , v6 FROM v3 AS REVENUE INDEXED BY v4 , v3 WHERE v4 IS NOT NULL ; 