CREATE VIRTUAL TABLE v0 USING rtree ( v2 DOUBLE PRIMARY KEY ON CONFLICT FAIL , v3 , v1 ) ; CREATE VIEW v4 AS SELECT DISTINCT * FROM v0 GROUP BY v2 , v2 HAVING AVG ( v2 ) = 10 ORDER BY v2 ; UPDATE v0 SET v2 = ( SELECT 10 FROM v0 LEFT JOIN v0 , v4 , v4 ) ; 