CREATE VIRTUAL TABLE v0 USING rtree ( v3 INT , v1 , v2 ) ; INSERT INTO v0 ( v3 ) VALUES ( 0 ) ,( 10 ) ; INSERT INTO v0 ( v3 ) VALUES ( 1.100000 ) ,( 3 ) ,( 2 ) ; DELETE FROM v0 WHERE v2 = ( SELECT NTILE ( 10 ) OVER( ORDER BY v3 NULLS LAST ) - 10 AS nt FROM v0 ) OR v3 <= 3 + 10 ; 