CREATE VIRTUAL TABLE v0 USING fts4 ( v4 INTEGER PRIMARY KEY , v7 INT , v6 INT , v3 INT , v2 INT , v1 , v5 ) ; INSERT INTO v0 ( v5 , v5 , v4 ) VALUES ( 'x' , 10 , 10 ) ,( 'x' , 10 , 9223372036854775807 ) ,( '199419' , 10 , 2 ) ,( 'v0' , 10 , 10 ) ; UPDATE v0 SET v5 = randomblob ( CASE v7 WHEN 'x' THEN 10 ELSE v5 END ) ; DELETE FROM v0 WHERE v6 MATCH ( SELECT datetime () , sum ( v7 ) OVER( ORDER BY v5 ) AS m FROM v0 WHERE v5 OR 10 ) ; 