CREATE VIRTUAL TABLE v0 USING fts4 ( v7 INTEGER PRIMARY KEY , v6 INT , v5 INT , v4 INT , v3 INT , v2 , v1 ) ; INSERT INTO v0 ( v1 , v2 , v7 ) VALUES ( 'c' , 10 , 10 ) ,( '1995-09-01' , 10 , 1 ) ,( 'x' , 1 , 127 ) ,( 'MED BAG' , 10 , 10 ) ; UPDATE v0 SET v6 = randomblob ( CASE v4 WHEN 'x' THEN 9223372036854775807 ELSE 2 END ) ; DELETE FROM v0 WHERE v1 MATCH ( SELECT datetime () , sum ( v6 ) OVER( ORDER BY v2 ) AS m FROM v0 WHERE v5 OR 10 ) ; 