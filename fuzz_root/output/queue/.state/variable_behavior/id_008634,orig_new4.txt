CREATE VIRTUAL TABLE v0 USING fts4 ( v2 , v1 , v3 ) ; INSERT INTO v0 VALUES ( 0.100000 , 2 , 9223372036854775807 ) ; UPDATE v0 SET v1 = randomblob ( ( 10 = 10 AND v1 < CASE WHEN LIKELY ( v3 ) != 'v1' THEN 2 ELSE 3 END ) + v1 + julianday ( * ) ) ; SELECT zipfile ( NULL ) WHERE v3 = v3 AND v2 > 10 ; SELECT * FROM v0 NATURAL JOIN v0 ORDER BY min ( DISTINCT 0 , 1.100000 , NULL , v2 ) DESC ; 