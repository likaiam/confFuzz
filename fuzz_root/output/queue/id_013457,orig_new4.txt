CREATE VIRTUAL TABLE v0 USING fts4 ( v3 CHAR(1) , v4 INTEGER UNIQUE ON CONFLICT ROLLBACK , v5 INTEGER UNIQUE ON CONFLICT ABORT , v7 INTEGER UNIQUE ON CONFLICT ROLLBACK , v6 INTEGER UNIQUE ON CONFLICT ROLLBACK , v2 UNIQUE ON CONFLICT IGNORE , v1 ) ; CREATE VIEW v8 AS SELECT v5 FROM v0 UNION ALL SELECT v7 FROM v0 ; UPDATE v0 SET v5 = ( SELECT 10 FROM v8 LEFT JOIN v0 , v8 , v8 ORDER BY datetime () DESC ) ; 