CREATE TABLE v0 ( v2 CHAR(25) PRIMARY KEY CHECK( v2 ) CHECK( v1 = v1 ) CHECK( 10 ) CHECK( v2 NOT LIKE 'testtest' ) NOT NULL UNIQUE CHECK( 2000 ) CHECK( v2 NOT LIKE 'v0' ) NOT NULL UNIQUE , v1 ) ; CREATE INDEX v3 ON v0 ( v2 , v2 ) WHERE ( v2 GLOB 'x' AND v1 = 10 ) AND v1 = 10 AND v2 = v1 AND v1 = 10 ; CREATE TRIGGER x AFTER UPDATE ON v0 BEGIN WITH tmp AS ( SELECT v1 FROM v3 ) SELECT 10 , 10 , 1 ; END ; ALTER TABLE v0 RENAME v2 TO v1 ; SELECT v2 , v1 FROM v3 WHERE v1 IS NOT NULL ; 