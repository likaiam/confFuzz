CREATE VIRTUAL TABLE v0 USING rtree ( v3 , v1 , v2 CHAR(25) CHECK( 'x' != julianday ( v1 , 1 , v3 NOT LIKE v1 ) NOT LIKE randomblob ( v1 NOT LIKE v1 ) ) ) ; CREATE VIEW v4 AS SELECT * FROM v0 NATURAL JOIN v0 WHERE v3 GLOB 'x' GROUP BY v0 . v2 , v3 ; UPDATE v0 SET v2 = ( SELECT 1 FROM v4 AS a JOIN v4 ON NULL = NULL , v4 , v4 ) ; 