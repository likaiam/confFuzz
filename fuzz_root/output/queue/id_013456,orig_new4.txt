CREATE VIRTUAL TABLE v0 USING fts4 ( v4 CHAR(1) , v3 INTEGER UNIQUE ON CONFLICT ROLLBACK , v6 INTEGER UNIQUE ON CONFLICT ABORT , v7 INTEGER UNIQUE ON CONFLICT ROLLBACK , v2 INTEGER UNIQUE ON CONFLICT ROLLBACK , v1 UNIQUE ON CONFLICT IGNORE , v5 ) ; INSERT INTO v0 ( v7 , v4 ) VALUES ( 10 , 1.100000 ) ,( 10 , 9223372036854775808.000000 ) ,( 3 , 2.100000 ) ,( 1 , 10.100000 ) ,( 0 , 10.100000 ) ; CREATE VIEW v8 AS SELECT v2 FROM v0 UNION ALL SELECT v3 FROM v0 ; UPDATE v0 SET v1 = ( SELECT 10 FROM v8 LEFT JOIN v0 , v8 , v8 ) ; 