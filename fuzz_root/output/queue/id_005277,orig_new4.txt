CREATE VIRTUAL TABLE v0 USING fts4 ( v3 CHAR(15) AS( - 0.100000 ) , v2 , v1 ) ; INSERT INTO v0 ( v1 , v2 , v2 ) VALUES ( 'x' , 10 , 10 ) ,( 'v0' , 3 , 9223372036854775807 ) ,( 'PROMO%%' , 2 , 1 ) ,( 'UTF-16le' , 0 , 0 ) ; WITH tmp AS ( SELECT * FROM v0 ) SELECT min ( 10.100000 ) FROM v0 WHERE v1 OR 2 ; DELETE FROM v0 WHERE v2 MATCH ( SELECT v1 , sum ( v1 ) OVER( ORDER BY v1 ) AS m FROM v0 WHERE v1 OR 10 ) ; 