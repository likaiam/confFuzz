CREATE TABLE v0 ( v1 INTEGER PRIMARY KEY ) ; CREATE TEMP TRIGGER x AFTER INSERT ON v0 WHEN ( SELECT v1 FROM v0 WHERE ( v1 BETWEEN 1 AND 10 ) ORDER BY v1 DESC ) BEGIN INSERT INTO v0 ( v1 ) VALUES ( 127 ) ; END ; CREATE VIRTUAL TABLE v2 USING rtree ( v5 PRIMARY KEY NOT NULL AS( 'v1' ) CHECK( v4 NOT LIKE min ( DISTINCT 2 , 3 , NULL , v3 ) ) NOT NULL UNIQUE , v4 , v3 ) ; ALTER TABLE main . v0 ADD p INTEGER NOT NULL ON CONFLICT REPLACE GENERATED ALWAYS AS( 1 ) ; SELECT v1 , v1 FROM v2 AS myname JOIN v0 ON NULL = v2 . v4 WHERE v1 IS NOT NULL ; 