CREATE TABLE v0 ( v1 ) ; INSERT INTO v0 ( v1 ) VALUES ( NULL ) ,( NULL ) ,( NULL ) ,( NULL ) ,( NULL ) ,( NULL ) ,( NULL ) ,( NULL ) ,( NULL ) ,( NULL ) ,( NULL ) ; CREATE TRIGGER x AFTER INSERT ON v0 BEGIN DELETE FROM v0 WHERE EXISTS ( SELECT v1 < 'GERMANY' WHERE v1 < 1 OR v1 < v1 ) ; END ; INSERT OR IGNORE INTO v0 SELECT * FROM v0 ; SELECT coalesce ( max ( v1 ) OVER( ORDER BY v1 ) , 3 ) FROM v0 ; 