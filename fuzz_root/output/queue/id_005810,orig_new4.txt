CREATE VIRTUAL TABLE v0 USING rtree ( v2 , v1 , v3 ) ; CREATE VIEW v4 AS SELECT count ( * ) FROM v0 GROUP BY v2 , v1 HAVING AVG ( v1 ) = 0 ; UPDATE v0 SET v3 = ( SELECT 0 FROM v0 AS a JOIN v0 ON NULL = NULL JOIN v4 ON v0 . v3 = NULL ) ; 