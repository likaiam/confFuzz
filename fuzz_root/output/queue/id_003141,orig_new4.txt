CREATE VIRTUAL TABLE v0 USING fts4 ( v3 TEXT UNIQUE , v1 TEXT UNIQUE , v2 ) ; DELETE FROM v0 WHERE v2 = '!INSERT INTO test VALUES (1, 0, 0); !INSERT INTO test VALUES (0, 1, 0); !INSERT INTO test VALUES (0, 0, null);' ; UPDATE v0 SET v2 = ( SELECT v1 FROM v0 WHERE v3 > 10 OR v3 > 1 AND v1 NOT LIKE '30' LIMIT 1 ) ; 